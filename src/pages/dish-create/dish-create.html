<!--
Generated template for the AddDishPage page.

See http://ionicframework.com/docs/v2/components/#navigation for more info on
Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <!--<ion-buttons start>
      <button ion-button (click)="preview()" [disabled]="!dishForm.valid">
        <ion-icon name="eye"></ion-icon>
      </button>
    </ion-buttons>-->
    <ion-title>Je cuisine...</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
  <ion-card>
    <img *ngIf="dishPicture" [(src)]="'data:image/jpeg;base64,'+dishPicture" />
    <img *ngIf="!dishPicture" src="https://firebasestorage.googleapis.com/v0/b/eate-app.appspot.com/o/default.jpg?alt=media&token=65a08a62-6d86-498c-8252-8cb685eee6fa" />
    <ion-row>
      <ion-col center text-center>
        <button ion-button clear (click)="takePicture()"><ion-icon name="camera"></ion-icon></button>
      </ion-col>
      <ion-col center text-center>
        <button ion-button clear (click)="pickPicture()"><ion-icon name="image"></ion-icon></button>
      </ion-col>
    </ion-row>
  </ion-card>
  <form [formGroup]="dishForm" novalidate>
    <ion-item>
      <ion-label floating>Nom</ion-label>
      <ion-input type="text" formControlName="name"></ion-input>
    </ion-item>
    <ion-item>
      <ion-label floating>Description</ion-label>
      <ion-textarea formControlName="description"></ion-textarea>
    </ion-item>
    <!--<ion-item [hidden]="!(dishForm.controls['name'].valid && dishForm.controls['description'].valid)">-->
    <ion-item>
      <ion-label floating>Prix</ion-label>
      <ion-input type="number" formControlName="price" ngStep="0.1" ngMin="0"></ion-input>
    </ion-item>
    <!--<ion-item [hidden]="!(dishForm.controls['name'].valid && dishForm.controls['description'].valid)">-->
    <ion-item>
      <ion-label floating>Nombre de portions disponibles</ion-label>
      <ion-input type="number" formControlName="portionsNumber" ngStep="1" ngMin="1"></ion-input>
    </ion-item>
    <!--<ion-item [hidden]="!(dishForm.controls['name'].valid && dishForm.controls['description'].valid && dishForm.controls['price'].valid && dishForm.controls['portions_number'].valid)">-->
    <ion-item>
      <ion-label floating>Date</ion-label>
      <ion-datetime displayFormat="DD/MM/YYYY" pickerFormat="DD/MM/YYYY" formControlName="date"  [min]="minDate" [max]="maxDate"></ion-datetime>
    </ion-item>
    <!--<ion-row [hidden]="!(dishForm.controls['name'].valid && dishForm.controls['description'].valid && dishForm.controls['price'].valid && dishForm.controls['portions_number'].valid)">-->
      <!--<ion-col>-->
        <ion-item>
          <ion-label inline>Entre</ion-label>
          <ion-datetime pickerFormat="HH:mm" displayFormat="HH:mm" hourValues="18,19,20,21,22,23,00" minuteValues="0,15,30,45" formControlName="timeStart"></ion-datetime>
        </ion-item>
      <!--</ion-col>
      <ion-col>-->
        <ion-item>
          <ion-label inline>Et</ion-label>
          <ion-datetime pickerFormat="HH:mm" displayFormat="HH:mm" hourValues="18,19,20,21,22,23,00" minuteValues="0,15,30,45" formControlName="timeEnd"></ion-datetime>
        </ion-item>
      <!--</ion-col>-->
<!--    </ion-row>-->
    <!--<ion-item>
      <p>Adresse</p><br/>
      <p class="item-description">{{user.address.address}}, {{user.address.city}}
      </p>
    </ion-item>-->
    <!-- <ion-item>
    <ion-label floating>Adresse</ion-label>
    <ion-input type="text" formControlName="address"></ion-input>
  </ion-item>
  <ion-item>
  <ion-label floating>Code postal</ion-label>
  <ion-input type="number" formControlName="zip_code"></ion-input>
</ion-item>
<ion-item>
<ion-label floating>Ville</ion-label>
<ion-input type="text" formControlName="city"></ion-input>
</ion-item> -->
</form>
<ion-fab right bottom>
  <button ion-fab color="primary" [disabled]="!dishForm.valid" (click)="createDish()">
    <ion-icon name="checkmark"></ion-icon></button>
</ion-fab>
</ion-content>